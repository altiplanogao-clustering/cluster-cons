---

- name: Prepare
  hosts: local
  vars:
    init: true
  vars_files:
    - ./vars/config.yml
  roles:
    - jdk
    - hadoop
    - spark
    - mesos

- name: Install standalone hadoop
  hosts: hadoop_standalone
  become: yes
  become_method: sudo
  vars:
    cluster_mode: false
    fresh_unzip: false
    drop_data: true
  roles:
    - system
    - jdk
    - hadoop
    - spark
    - mesos

- name: Install hadoop cluster
  hosts: hadoop_cluster
  become: yes
  become_method: sudo
  vars:
    cluster_mode: true
    fresh_unzip: false
    drop_data: true
  roles:
    - system
    - jdk
    - hadoop
    - spark
    - mesos
